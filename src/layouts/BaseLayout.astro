---
import '../styles/global.css';

interface Props {
  title?: string;
}

const { title } = Astro.props;
const pageTitle = title ? `${title} â€“ Sukriti Kapoor` : 'Sukriti Kapoor';

const navLinks = [
  { href: '/work', label: 'Work' },
  { href: '/poetry', label: 'Poetry' },
  { href: '/prose', label: 'Prose' },
];

const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@400;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="min-h-screen flex flex-col font-sans text-black bg-white">
    <!-- Mobile header -->
    <header class="lg:hidden flex items-center justify-between px-6 py-4 border-b border-gray-100">
      <a href="/" class="font-serif font-bold text-2xl">Sukriti Kapoor</a>
      <button id="mobile-menu-toggle" class="p-2" aria-label="Toggle menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </header>
    <!-- Mobile nav -->
    <nav id="mobile-nav" class="hidden lg:hidden px-6 py-4 border-b border-gray-100">
      {navLinks.map(link => (
        <a href={link.href} class="block py-2 text-base font-sans hover:text-accent">{link.label}</a>
      ))}
    </nav>

    <div class="flex flex-1">
      <!-- Desktop sidebar -->
      <aside class="hidden lg:flex flex-col w-[23%] min-w-[200px] px-8 py-8 min-h-screen fixed left-0 top-0">
        <a href="/" class="font-serif font-bold text-3xl block">Sukriti Kapoor</a>
        <nav class="flex flex-col gap-1 mt-auto mb-auto">
          {navLinks.map(link => (
            <a
              href={link.href}
              class:list={[
                'text-base font-sans',
                currentPath.startsWith(link.href) ? 'font-semibold' : 'hover:text-accent',
              ]}
            >
              {link.label}
            </a>
          ))}
        </nav>
        <!-- LinkedIn icon -->
        <a href="https://www.linkedin.com/in/sukritikapoor/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
          </svg>
        </a>
      </aside>

      <!-- Main content -->
      <main class="flex-1 px-6 lg:pl-[23%] lg:px-16 py-8 lg:py-8">
        <slot />
      </main>
    </div>

    <!-- Footer -->
    <footer class="px-8 py-6 lg:pl-[23%]">
      <div class="flex items-center justify-center gap-2 text-sm">
        <span>&copy; 2025 &nbsp;Sukriti Kapoor</span>
      </div>
    </footer>

    <script>
      const toggle = document.getElementById('mobile-menu-toggle');
      const nav = document.getElementById('mobile-nav');
      toggle?.addEventListener('click', () => {
        nav?.classList.toggle('hidden');
      });
    </script>
  </body>
</html>
